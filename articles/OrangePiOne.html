<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html lang="en"> <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Rob de Kleine - OrangePiOne</title>
  <meta name="author" content="Rob de Kleine" />
  <meta name="description" content="The blog of Rob de Kleine" />
  <link rel="canonical" href="https://sjmst5.github.io/articles/OrangePiOne" />

  <link href="https://fonts.googleapis.com/css?family=Open+Sans:600,800" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
  <link rel="shortcut icon" href="/favicon.png">
  <link rel="alternate" type="application/atom+xml" title="Rob de Kleine" href="https://sjmst5.github.io/atom.xml" />

  <link rel="stylesheet" href="/assets/css/all.css">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
</head>
<body>
  <div class="container">
    <div class="four columns sidebar">
      <nav>
  <h1>Hey stranger.</h1>
  <a href="/">
    
    <img src="/logoS.png" id="logo" alt="Blog logo"/>
    
  </a>
  <h2>I'm <a href="/">Rob de Kleine</a>.</h2>
  <div id="bio">
    <p>A brief bio or something witty.</p>
    <p>
      <code>Boe&#x1F609;</code>
    </p>
  </div>
  <div id="social">
    Follow me:
<div id="stalker">
  
  <a title="sjmst5 on Github" href="https://github.com/sjmst5">
    <i class="fa fa-github-square"></i>
  </a>
  

  

  

  

  

  

  
  <a title="Rob de Kleine on Facebook" href="https://facebook.com/sjmst5">
    <i class="fa fa-facebook-square"></i>
  </a>
  

  

  

  

  

  
</div>

  </div>
</nav>

    </div>

    <div class="eleven columns content">
      <p class="meta">
  January 28, 2020 
  <a href="/">
    <i class="home fa fa-home"></i>
  </a>
</p>

<h1 class="title">OrangePiOne</h1>

<div id="post">
  <h2 id="little-vpn-server-with-desktop"><strong>Little Vpn server with desktop</strong></h2>
<p>In this blog where going to create an Vpn server with WireGuard and run the desktop with VNCserver (remote desktop) with SSH server enabled.</p>

<h2 id="os">OS</h2>
<p>Download and write the ISO from the Armbian website and login with <code class="highlighter-rouge">root</code> <code class="highlighter-rouge">1234</code>. Chance the password and create an user account. Run the command <code class="highlighter-rouge">armbian-config</code> go into <code class="highlighter-rouge">system settings</code> and install the <code class="highlighter-rouge">desktop with 3rd party apps</code>. After that just install the latest ‘Firmware’. After the reboot login as <code class="highlighter-rouge">root</code>. Run the command <code class="highlighter-rouge">apt-get update &amp;&amp; apt-get upgrade</code>.</p>

<h2 id="vncserver">VNCserver</h2>
<p>Install the VNCserver <code class="highlighter-rouge">apt-get install tightvncserver</code>. Start the VNCserver service <code class="highlighter-rouge">vncserver</code>. Set up an pw and if you need you can enable a view-only pw.
With every reboot the service needs to be enabled!</p>

<h2 id="openvpn">OpenVPN</h2>
<p>Install WireGuard the easy way with pivpn <code class="highlighter-rouge">curl -L https://install.pivpn.io | bash</code> and select WireGuard but if you want you can choose for OpenVPN. The default port is 51820 (don’t forget to open this port Firewall). Reboot and run <code class="highlighter-rouge">pivpn add</code> to add vpn clients.
When you are on an mobile device you can also run <code class="highlighter-rouge">pivpn -qr</code>to create an qr login.</p>
<blockquote>
  <p>If you install OpenVPN the install is easy also, the port is by default 1194.</p>
</blockquote>

<h2 id="desktop">Desktop</h2>
<p>The desktop itself is already enabled and running by now, some handy apps you might want to install are an screensaver <code class="highlighter-rouge">apt-get install xscreensaver xscreensaver-gl-extra xscreensaver-data-extra</code> and select the GLmatrix screensaver. Also handy is disks <code class="highlighter-rouge">apt-get install gnome-disk-utility</code>. I woudn’t recomend an browser but if you wish <code class="highlighter-rouge">apt-get install firefox-esr</code>.</p>

<h2 id="2fa--mfa">2FA / MFA</h2>
<p>I’m still working on the 2FA in the VPN server, some handy links might be:<code class="highlighter-rouge">https://www.howtoforge.com/securing-openvpn-with-a-one-time-password-otp-on-ubuntu</code> <code class="highlighter-rouge">http://techblog.sillifish.co.uk/2017/04/05/openvpn-on-a-raspberry-pi-using-pivpn/</code><code class="highlighter-rouge">https://www.youtube.com/watch?v=a6mjt8tWUws</code> <code class="highlighter-rouge">https://toub.es/2017/07/13/docker-raspberry-pi-perfect-combo/</code>
<code class="highlighter-rouge">https://toub.es/2018/02/15/low-cost-vpn-solution-with-two-factor-authentication-on-a-raspberry-pi/</code></p>

</div>

<div id="related">
  <h3>Related Posts</h3>
  <ul class="posts">
    
    <li>
      <span>03 Oct 2019 &raquo;</span> <a href="/articles/PI-Network-Bridge">PI Network Bridge</a>
    </li>
    
    <li>
      <span>18 Sep 2019 &raquo;</span> <a href="/articles/Storage-Server">Storage Server</a>
    </li>
    
    <li>
      <span>28 Aug 2019 &raquo;</span> <a href="/articles/ubuntu">Ubuntu 18.04</a>
    </li>
    
  </ul>
</div>


      <div class="footer">
        <div class="disclaimer">
  
  <p>
    The postings on this site are my own and don't necessarily represent my 
    employer’s positions, strategies or opinions.
  </p>
  

  <p>
    © Rob de Kleine,
    <a href="https://api.whatsapp.com/send?phone=31617768233" target="_blank" rel="external noopener"><i class="fa fa-whatsapp"></i></a>
    <a href="tel:+31617768233"><i class="fa fa-phone"></i></a>, 2020 - built with <a href="http://jekyllrb.com/">Jekyll</a> using <a href="https://github.com/swanson/lagom">Lagom theme</a>
  </p>
  <p> 
    <IFRAME SRC="https://api.buienradar.nl/image/1.0/RadarMapNL?w=256&h=256" NORESIZE SCROLLING=NO HSPACE=0 VSPACE=0 FRAMEBORDER=0 MARGINHEIGHT=0 MARGINWIDTH=0 WIDTH=256 HEIGHT=256></IFRAME><br>
    ©Buienradar.nl
  </p>
</div>
      </div>
    </div>
  </div>


<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-xxxx-x']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

</body>
</html>
